<div class="">
  <div class="">
    <div class="dialogoEdicion" *ngIf="mostrarDialogoAB">
        <div class="card mt-4 w-50 mx-auto">
            <div class="card-head d-flex  w-100 justify-content-between">
              <div></div>
              <div class="pt-2">
                <h5 *ngIf="!edicion" class="">{{ _LABEL.nuevoAlumno}}</h5>
                <h5 *ngIf="edicion" class="">{{ _LABEL.edicionAlumno}}</h5>
              </div>
              <span class="btn btn-danger" (click)="ocultarDialogo()"><i class="fas fa-times"></i></span>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="form-group col">
                  <label for="nombre">{{ _LABEL_R.nombre }}</label>
                  <input
                            #nombre = "ngModel"
                            class="form-control"
                            type="text"
                            required
                            minlength="3"
                            maxlength="30"
                            [(ngModel)]="alumnoSeleccionado.nombre"
                            [placeholder]="_LABEL.ingrese.nombre"
                            [pattern]="_PATTERN.nombre"
                            >
                  <div  *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)" class="alert alert-danger">
                    <div *ngIf="nombre.errors.required">{{ _VALIDACION.requerido.nombre }}</div>
                    <div *ngIf="nombre.errors.pattern">{{ _VALIDACION.valido.nombre }}</div>
                    <div *ngIf="nombre.errors.minlength">{{ _VALIDACION.minimoTres }}</div>
                  </div>
                </div>
                <div class="form-group col">
                  <label for="apellido">{{ _LABEL_R.apellido }}</label>

                  <input #apellido = "ngModel"
                                class="form-control"
                                type="text"
                                required
                                minlength="3"
                                maxlength="30"
                                [(ngModel)]="alumnoSeleccionado.apellido"
                                [placeholder]="_LABEL.ingrese.apellido"
                                [pattern]="_PATTERN.nombre"
                                >
                        <div  *ngIf="apellido.invalid && (apellido.dirty || apellido.touched)" class="alert alert-danger">
                          <div *ngIf="apellido.errors.required">{{ _VALIDACION.requerido.apellido }}</div>
                          <div *ngIf="apellido.errors.pattern">{{ _VALIDACION.valido.apellido }}</div>
                          <div *ngIf="apellido.errors.minlength">{{ _VALIDACION.minimoTres }}</div>
                        </div>
                      </div>
              </div>
              <div class="row">
                <div class="form-group col">
                  <label for="dni">{{ _LABEL_R.dni }}</label>
                    <input
                                #dni = "ngModel"
                                class="form-control"
                                type="text"
                                required
                                minlength="6"
                                maxlength="9"
                                [(ngModel)]="alumnoSeleccionado.dni"
                                [placeholder]="_LABEL.ingrese.dni"
                                [pattern]="_PATTERN.dni"
                                >
                        <div  *ngIf="dni.invalid && (dni.dirty || dni.touched)" class="alert alert-danger">
                          <div *ngIf="dni.errors.required">{{ _VALIDACION.requerido.dni }}</div>
                          <div *ngIf="dni.errors.pattern">{{ _VALIDACION.valido.dni}}</div>
                          <div *ngIf="dni.errors.minlength">{{ _VALIDACION.minimoSeis }}</div>
                        </div>
                      </div>
                <div class="form-group col">

                 <label for="nacimiento">{{ _LABEL.fechaNacimiento }}</label>
                 <ng-datepicker
                                style="position: relative;z-index: 1000"
                                id="calendario"
                                [(ngModel)]="dateNac"
                                [options]="options"
                  ></ng-datepicker>


                </div>
              </div>
              <div class="row">
                <div class="form-group col">
                  <label for="email">{{ _LABEL_R.email }}</label>
                  <input
                                  #email="ngModel"
                                  class="form-control"
                                  type="email"
                                  required
                                  [(ngModel)]="alumnoSeleccionado.email"
                                  [placeholder]="_LABEL.ingrese.email"
                                  [pattern]="_PATTERN.email"
                                  >
                          <div  *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
                              <div *ngIf="email.errors.required">{{ _VALIDACION.requerido.email }}</div>
                              <div *ngIf="email.errors.pattern">{{ _VALIDACION.valido.email }}</div>
                          </div>
                </div>
                <div class="form-group col">
                  <label for="telefono">{{ _LABEL_R.telefono }}</label>
                  <input
                                  #telefono="ngModel"
                                  class="form-control"
                                  type="text"
                                  required
                                  [(ngModel)]="alumnoSeleccionado.telefono"
                                  [placeholder]="_LABEL.ingrese.telefono"
                                  [pattern]="_PATTERN.telefono"
                                  >
                          <div  *ngIf="telefono.invalid && (telefono.dirty || telefono.touched)" class="alert alert-danger">
                              <div *ngIf="telefono.errors.required">{{ _VALIDACION.requerido.telefono }}</div>
                              <div *ngIf="telefono.errors.pattern">{{ _VALIDACION.valido.telefono }}</div>
                          </div>
                </div>

              </div>
              <button class="btn btn-primary float-right " [disabled]="nombre.invalid || apellido.invalid || dni.invalid || email.invalid || telefono.invalid" (click)="guardar()">
                <span *ngIf="edicion">{{ _LABEL.guardar }}</span>
                <span *ngIf="!edicion">{{ _LABEL.agregar }}</span>
              </button>
          </div>
    </div>

    </div>
    <div class="p-0">
        <div class="bg-light">

            <div class="input-group py-4 col-5">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="inputGroup-sizing-default">{{ _LABEL.filtrar }}</span>
                </div>

                <input type="text" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" [(ngModel)]="busqueda">

                <div class="input-group-append">
                  <button class="btn btn-success" (click)="nuevoAlumno()"><span>{{ _LABEL.nuevoAlumno }}</span></button>
                </div>
            </div>
            <div class="table-responsive">
              <table class="table table-hover bg-light fixed_header table-fixed">
                <thead class="thead-light">
                    <tr>
                      <th>{{ _LABEL.alumno }}</th>
                      <th>{{ _LABEL.telefono }}</th>
                      <th>{{ _LABEL.email }}</th>
                      <th>{{ _LABEL.dni }}</th>
                      <th>{{ _LABEL.acciones }}</th>
                    </tr>
                </thead>
            
            
                    <tbody>
                      <!-- <tr *ngFor="let alumno of alumnos | search: {nombre: busqueda, apellido: busqueda, dni: busqueda}" > -->
                      <tr *ngFor="let alumno of alumnos " >
                        <td> {{ alumno.nombre }}  {{ alumno.apellido }}</td>
                        <td> {{ alumno.telefono }} </td>
                        <td> {{ alumno.email }} </td>
                        <td>  {{ alumno.dni }}</td>
                        <td>
                          <button class="btn btn-info mr-2" [title]="_LABEL.boton.inscribir" (click)="clickInscripcionAlumno(alumno)">
                            <i class="fas fa-file-signature"></i>
                          </button>
                          
                          <button
                                  class="btn btn-warning mr-2"
                                  [title]="_LABEL.boton.verCursadas"
                                  (click)="alumnoSeleccionado.copiar(alumno);mostrarCursadasAlumno();"
                                  [disabled]="! tieneCursadas(alumno)"
                                  >
                            <i class="fas fa-book-reader"></i>
                          </button>
                          <button class="btn btn-success mr-2" [title]="_LABEL.boton.editar" (click)="alumnoSeleccionado.copiar(alumno);editarAlumno();">
                            <i class="fas fa-user-edit"></i>
                          </button>
                          <button class="btn btn-danger" [title]="_LABEL.boton.eliminar" (click)="alumnoSeleccionado = alumno ; mostrarDialogoEliminar()">
                            <i class="fas fa-user-times"></i>
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
            </div>
          </div>
    </div>
  </div>
</div>




<dialogo-confirmacion
                      *ngIf="mostrarDialogoBorrar"
                      (clickBotonCerrar)="ocultarDialogo()"
                      (clickBotonIzquierdo)="ocultarDialogo()"
                      (clickBotonDerecho)="eliminar()"
                      [titulo]="_LABEL.bajaAlumno"
                      [texto]="textoDlgEliminar"
                      >

</dialogo-confirmacion>
<ng4-loading-spinner></ng4-loading-spinner>



<!-- DIALOGO INSCRIPCIÓN -->



<div *ngIf="inscripcionShowed" class="dialogoEdicion">
  <div class="card popUpInscripcion">
    <div class="container">
      <div class="row">
          <div class="card-head text-center w-100 mt-2 mb-2 tituloInscripcion">
            <h5 class="mx-auto">
              {{ _LABEL.tituloInscipcion }}
            </h5>
          </div>
            
      </div>
      <div class="row pl-3 pr-3 mb-3 w-100">
        <p class="mx-auto">
          Inscribiendo a {{ alumnoSeleccionado.nombre }} {{ alumnoSeleccionado.apellido }}
        </p>
      </div>
      <div class="row">
        <div class="col-5">
          <label for="">
            {{ _LABEL.seleccione.cursada }}
          </label>
        </div>
        <div class="col-7">
            <div class="form-group w-100 text-center">
                <select name="" id="" class="custom-select">
                  <option
                      value=""
                      *ngFor="let cursada of cursadas"
                      (click)="cursadaSeleccionada.copiar(cursada)"
  
                  >
                     {{cursada.curso.nombre}} {{ _Util.convertirTimestamp(cursada.fechaInicio) }}
                  </option>
                </select>
              </div>
        </div>
      </div>
      <div class="row">
        <div class="d-flex w-75 justify-content-between mx-auto contenedorBotonesInscribir form-group">
          <button class="btn btn-danger" (click)="clickCancelarNuevaInscripcion()">
            {{ _LABEL.cancelar }}
          </button>
          <button class="btn btn-primary" (click)="clickConfirmarInscripcion()">
            {{ _LABEL.inscribir}} <span><i class="fas fa-user-check"></i></span>
          </button>
        </div>
  
      </div>

    </div>
  </div>
</div>